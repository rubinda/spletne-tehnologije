<div class="container">
  <div class="form-wrapper">
    <form [formGroup]="novicaForm" (ngSubmit)="postArticle()">
        <div class="form-group">
          <label for="titleInput">Naslov</label>
          <input type="text" class="form-control" formControlName="title" id="titleInput"
            [ngClass]="{ 'is-invalid': f.title.touched && f.title.errors }">
          <small class="text-error" *ngIf="f.title.touched && f.title.errors?.required">Polje je obvezno</small>
        </div>
        <div class="form-group">
          <label for="newsBody">Vsebina</label>
          <textarea class="form-control" name="newsBody" formControlName="contents" id="newsBody" rows="10"
            [ngClass]="{ 'is-invalid': f.contents.touched && f.contents.errors }"></textarea>
          <small class="text-error" *ngIf="f.contents.touched && f.contents.errors?.required">Polje je obvezno</small>
        </div>
        
        <div class="form-group" formGroupName="keywords">
          <label>Kljuƒçne besede</label>
          <div class="input-group mb-1" *ngFor="let keyword of novicaForm.get('keywords').controls; let i = index">
            <input type="text" class="form-control" formControlName="{{ i }}"
              [ngClass]="{ 'is-invalid': keyword.touched && keyword.errors }">
            <div *ngIf="novicaForm.get('keywords').controls.length > 1" class="input-group-append">
              <span class="input-group-text remove-icon" (click)="removeKeywordAt(i)">
                <i class="fas fa-times text-danger"></i>
              </span>
            </div>
          </div>
          <a id="keyword-link" (click)="addKeyword()">Dodaj besedo</a>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" formControlName="isPremium" name="isPremium" id="isPremium">
          <label for="isPremium" class="form-check-label">Samo za registrirane uporabnike</label>
        </div>
        <div class="text-right">
          <button type="submit" class="btn btn-primary" [disabled]="!novicaForm.valid">Objavi</button>
        </div>
      </form>
  </div>
</div> 